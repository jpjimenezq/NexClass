{% extends 'navbar.html' %}{% block content %}{%  load static  %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Detalle Clase</title>
</head>
<body>
<!-- class_detail.html -->
<h1>{{ class_obj.className }}</h1>
<p><strong>Teacher:</strong> {{ class_obj.teacher.user.name }}</p>
<p><strong>Description:</strong> {{ class_obj.description }}</p>
<img src="{{ class_obj.class_picture.url }}" alt="{{ class_obj.className }}" />

<!-- Menú desplegable para seleccionar un horario -->
 <h2>Horarios disponibles</h2>
  <ul>
    {% for schedule in schedules %}
      <li>
        <strong>Inicio:</strong> {{ schedule.start_time }} <br>
        <strong>Fin:</strong> {{ schedule.end_time }} <br>

        <!-- Formulario para enviar el schedule -->
        <form action="{% url 'generate_meet_link' class_obj.id %}" method="POST">
          {% csrf_token %}
          <input type="hidden" name="schedule_id" value="{{ schedule.id }}">
          <button type="submit" class="btn btn-primary">Generar Google Meet</button>
        </form>
      </li>
    {% endfor %}
  </ul>


<!-- Botón para regresar a la lista de clases -->
<a href="{% url 'student_classes' %}" class="btn btn-secondary">Back to Classes</a>


</body>
</html>
{% endblock content %}